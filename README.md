Composer package to make available to any project randomized paths generated by [DataDog/dd-trace-php/tests/randomized/app](https://github.com/DataDog/dd-trace-php/tree/master/tests/randomized/app/) generator.

This is absolutely not intended for production. This is only usable for testing environments.

## Usage

Depending on the version, add the following to your `composer.json`.

```
{
    ...
    "require-dev": {
        "labbati/randomized-paths": "<PHP_MAJOR>.<PHP_MINOR>.*"
    }
    ...
}
```

You need some companion services to run this tool. You can cherry-pick them from the list below.

```
// docker-compose.yml

....

  redis:
    image: redis:latest

  httpbin:
    image: kennethreitz/httpbin

  memcached:
    image: "memcached:1.5-alpine"

  elasticsearch:
    image: "elasticsearch:6.8.13"
    environment:
      - discovery.type=single-node

  mysql:
    image: mysql:5.7
    environment:
      - MYSQL_ROOT_PASSWORD=test
      - MYSQL_PASSWORD=test
      - MYSQL_USER=test
      - MYSQL_DATABASE=test

....

```

Use them (adjust host names)

```

use RandomizedTests\RandomExecutionPath;
use RandomizedTests\RandomExecutionPathConfiguration;
use RandomizedTests\SnippetsConfiguration;

$snippetsConfiguration = (new SnippetsConfiguration())
    ->withHttpBinHost('httpbin')
    ->withElasticSearchHost('elasticsearch')
    ->withMysqlHost('mysql')
    ->withMysqlUser('test')
    ->withMysqlPassword('test')
    ->withMysqlDb('test')
    ->withRedisHost('redis')
    ->withMemcachedHost('memcached');
$randomizerConfiguration = new RandomExecutionPathConfiguration(
    $snippetsConfiguration,
    isset($queries['seed']) ? intval($queries['seed']) : null,
    true, // true for web, false for CLI
    isset($queries['execution_path'])
);

```
